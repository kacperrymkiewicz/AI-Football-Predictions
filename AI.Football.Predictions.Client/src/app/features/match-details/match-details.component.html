<section id="match-details">
  <div class="container">
    <div class="row">
      @if (loadingStateService.isLoading('matchDetails')) {
        <div class="loading-spinner">
          <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <h3>Trwa wczytywanie meczu...</h3>
        </div>
      } @else {
        <h1>{{ match.game?.homeCompetitor?.name }} - {{ match.game?.awayCompetitor?.name }}</h1>
        <div class="col-md-6">
          <div class="match-info">
            <p>{{ formatDate(match.game?.startTime!) }}</p>
            <p>{{ match.game?.statusText }}</p>
            <p>{{ match.game?.homeCompetitor?.score }} - {{ match.game?.awayCompetitor?.score }}</p>
          </div>
        </div>
      }
    </div>
    <div class="row">
      <h2>Ostatnie mecze bezpośrednie</h2>
      @if (loadingStateService.isLoading('matchesH2h')) {
        <div class="loading-spinner">
          <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <h3>Trwa pobieranie bezpośrednich meczy...</h3>
        </div>
      } @else {
        <div class="col-md-6">
          <div class="matches-h2h">
            @for (matchH2h of matchesH2h.game?.h2hGames; track $index) {
              <p>{{ matchH2h.competitionDisplayName }}: {{ matchH2h.homeCompetitor?.score }} - {{ matchH2h.awayCompetitor?.score }} {{ formatDate(matchH2h.startTime!) }}</p>
            }
          </div>
        </div>
      }
    </div>
  </div>
</section>